{"ast":null,"code":"var _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { getLensModeEnlargedImageCoordinates, getInPlaceEnlargedImageCoordinates } from './lib/imageCoordinates';\nimport { LargeImageShape } from './prop-types/Image';\nimport { ContainerDimensions } from './prop-types/EnlargedImage';\nimport { noop } from './utils';\nimport Point from './prop-types/Point';\nimport { getEnlargedImageContainerStyle, getEnlargedImageStyle } from './lib/styles';\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this.state = {\n      isTransitionEntering: false,\n      isTransitionActive: false,\n      isTransitionLeaving: false,\n      isTransitionDone: false\n    };\n    _this.timers = [];\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      this.scheduleCssTransition(nextProps);\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.timers.forEach(function (timerId) {\n        clearTimeout(timerId);\n      });\n    }\n  }, {\n    key: 'scheduleCssTransition',\n    value: function scheduleCssTransition(nextProps) {\n      var _this2 = this;\n\n      var _props = this.props,\n          fadeDurationInMs = _props.fadeDurationInMs,\n          isActive = _props.isActive,\n          isPositionOutside = _props.isPositionOutside;\n      var willIsActiveChange = isActive !== nextProps.isActive;\n      var willIsPositionOutsideChange = isPositionOutside !== nextProps.isPositionOutside;\n\n      if (!willIsActiveChange && !willIsPositionOutsideChange) {\n        return;\n      }\n\n      if (nextProps.isActive && !nextProps.isPositionOutside) {\n        this.setState({\n          isTrainsitionDone: false,\n          isTransitionEntering: true\n        });\n        this.timers.push(setTimeout(function () {\n          _this2.setState({\n            isTransitionEntering: false,\n            isTransitionActive: true\n          });\n        }, 0));\n      } else {\n        this.setState({\n          isTransitionLeaving: true,\n          isTransitionActive: false\n        });\n        this.timers.push(setTimeout(function () {\n          _this2.setState({\n            isTransitionDone: true,\n            isTransitionLeaving: false\n          });\n        }, fadeDurationInMs));\n      }\n    }\n  }, {\n    key: 'getImageCoordinates',\n    value: function getImageCoordinates() {\n      var _props2 = this.props,\n          cursorOffset = _props2.cursorOffset,\n          largeImage = _props2.largeImage,\n          containerDimensions = _props2.containerDimensions,\n          position = _props2.position,\n          smallImage = _props2.smallImage,\n          isInPlaceMode = _props2.isInPlaceMode;\n\n      if (isInPlaceMode) {\n        return getInPlaceEnlargedImageCoordinates({\n          containerDimensions: containerDimensions,\n          largeImage: largeImage,\n          position: position\n        });\n      }\n\n      return getLensModeEnlargedImageCoordinates({\n        containerDimensions: containerDimensions,\n        cursorOffset: cursorOffset,\n        largeImage: largeImage,\n        position: position,\n        smallImage: smallImage\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props3 = this.props,\n          containerClassName = _props3.containerClassName,\n          imageClassName = _props3.imageClassName,\n          isLazyLoaded = _props3.isLazyLoaded,\n          largeImage = _props3.largeImage,\n          _props3$largeImage = _props3.largeImage,\n          _props3$largeImage$al = _props3$largeImage.alt,\n          alt = _props3$largeImage$al === undefined ? '' : _props3$largeImage$al,\n          _props3$largeImage$on = _props3$largeImage.onLoad,\n          onLoad = _props3$largeImage$on === undefined ? noop : _props3$largeImage$on,\n          _props3$largeImage$on2 = _props3$largeImage.onError,\n          onError = _props3$largeImage$on2 === undefined ? noop : _props3$largeImage$on2;\n      var component = React.createElement('div', {\n        className: containerClassName,\n        style: this.containerStyle\n      }, React.createElement('img', {\n        alt: alt,\n        className: imageClassName,\n        src: largeImage.src,\n        srcSet: largeImage.srcSet,\n        sizes: largeImage.sizes,\n        style: this.imageStyle,\n        onLoad: onLoad,\n        onError: onError\n      }));\n\n      if (isLazyLoaded) {\n        return this.isVisible ? component : null;\n      }\n\n      return component;\n    }\n  }, {\n    key: 'isVisible',\n    get: function get() {\n      var _state = this.state,\n          isTransitionEntering = _state.isTransitionEntering,\n          isTransitionActive = _state.isTransitionActive,\n          isTransitionLeaving = _state.isTransitionLeaving;\n      return isTransitionEntering || isTransitionActive || isTransitionLeaving;\n    }\n  }, {\n    key: 'containerStyle',\n    get: function get() {\n      var _props4 = this.props,\n          containerStyle = _props4.containerStyle,\n          containerDimensions = _props4.containerDimensions,\n          fadeDurationInMs = _props4.fadeDurationInMs,\n          isPortalRendered = _props4.isPortalRendered,\n          isInPlaceMode = _props4.isInPlaceMode;\n      var isTransitionActive = this.state.isTransitionActive;\n      return getEnlargedImageContainerStyle({\n        containerDimensions: containerDimensions,\n        containerStyle: containerStyle,\n        fadeDurationInMs: fadeDurationInMs,\n        isTransitionActive: isTransitionActive,\n        isInPlaceMode: isInPlaceMode,\n        isPortalRendered: isPortalRendered\n      });\n    }\n  }, {\n    key: 'imageStyle',\n    get: function get() {\n      var _props5 = this.props,\n          imageStyle = _props5.imageStyle,\n          largeImage = _props5.largeImage;\n      return getEnlargedImageStyle({\n        imageCoordinates: this.getImageCoordinates(),\n        imageStyle: imageStyle,\n        largeImage: largeImage\n      });\n    }\n  }]);\n\n  return _class;\n}(React.Component);\n\n_class.displayName = 'EnlargedImage';\n_class.defaultProps = {\n  fadeDurationInMs: 0,\n  isLazyLoaded: true\n};\n_class.propTypes = {\n  containerClassName: PropTypes.string,\n  containerStyle: PropTypes.object,\n  cursorOffset: Point,\n  position: Point,\n  fadeDurationInMs: PropTypes.number,\n  imageClassName: PropTypes.string,\n  imageStyle: PropTypes.object,\n  isActive: PropTypes.bool,\n  isLazyLoaded: PropTypes.bool,\n  largeImage: LargeImageShape,\n  containerDimensions: ContainerDimensions,\n  isPortalRendered: PropTypes.bool,\n  isInPlaceMode: PropTypes.bool\n};\nexport default _class;","map":{"version":3,"sources":["/Users/josh/hw/cart-croc/node_modules/react-image-magnify/dist/es/EnlargedImage.js"],"names":["_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","Constructor","protoProps","staticProps","prototype","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","create","constructor","value","setPrototypeOf","__proto__","React","PropTypes","getLensModeEnlargedImageCoordinates","getInPlaceEnlargedImageCoordinates","LargeImageShape","ContainerDimensions","noop","Point","getEnlargedImageContainerStyle","getEnlargedImageStyle","_class","_React$Component","_this","getPrototypeOf","state","isTransitionEntering","isTransitionActive","isTransitionLeaving","isTransitionDone","timers","componentWillReceiveProps","nextProps","scheduleCssTransition","componentWillUnmount","forEach","timerId","clearTimeout","_this2","_props","fadeDurationInMs","isActive","isPositionOutside","willIsActiveChange","willIsPositionOutsideChange","setState","isTrainsitionDone","push","setTimeout","getImageCoordinates","_props2","cursorOffset","largeImage","containerDimensions","position","smallImage","isInPlaceMode","render","_props3","containerClassName","imageClassName","isLazyLoaded","_props3$largeImage","_props3$largeImage$al","alt","undefined","_props3$largeImage$on","onLoad","_props3$largeImage$on2","onError","component","createElement","className","style","containerStyle","src","srcSet","sizes","imageStyle","isVisible","get","_state","_props4","isPortalRendered","_props5","imageCoordinates","Component","displayName","defaultProps","propTypes","string","object","number","bool"],"mappings":"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","sourcesContent":["var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { getLensModeEnlargedImageCoordinates, getInPlaceEnlargedImageCoordinates } from './lib/imageCoordinates';\nimport { LargeImageShape } from './prop-types/Image';\nimport { ContainerDimensions } from './prop-types/EnlargedImage';\nimport { noop } from './utils';\nimport Point from './prop-types/Point';\nimport { getEnlargedImageContainerStyle, getEnlargedImageStyle } from './lib/styles';\n\nvar _class = function (_React$Component) {\n    _inherits(_class, _React$Component);\n\n    function _class(props) {\n        _classCallCheck(this, _class);\n\n        var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n        _this.state = {\n            isTransitionEntering: false,\n            isTransitionActive: false,\n            isTransitionLeaving: false,\n            isTransitionDone: false\n        };\n\n        _this.timers = [];\n        return _this;\n    }\n\n    _createClass(_class, [{\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            this.scheduleCssTransition(nextProps);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            this.timers.forEach(function (timerId) {\n                clearTimeout(timerId);\n            });\n        }\n    }, {\n        key: 'scheduleCssTransition',\n        value: function scheduleCssTransition(nextProps) {\n            var _this2 = this;\n\n            var _props = this.props,\n                fadeDurationInMs = _props.fadeDurationInMs,\n                isActive = _props.isActive,\n                isPositionOutside = _props.isPositionOutside;\n\n            var willIsActiveChange = isActive !== nextProps.isActive;\n            var willIsPositionOutsideChange = isPositionOutside !== nextProps.isPositionOutside;\n\n            if (!willIsActiveChange && !willIsPositionOutsideChange) {\n                return;\n            }\n\n            if (nextProps.isActive && !nextProps.isPositionOutside) {\n                this.setState({\n                    isTrainsitionDone: false,\n                    isTransitionEntering: true\n                });\n\n                this.timers.push(setTimeout(function () {\n                    _this2.setState({\n                        isTransitionEntering: false,\n                        isTransitionActive: true\n                    });\n                }, 0));\n            } else {\n                this.setState({\n                    isTransitionLeaving: true,\n                    isTransitionActive: false\n                });\n\n                this.timers.push(setTimeout(function () {\n                    _this2.setState({\n                        isTransitionDone: true,\n                        isTransitionLeaving: false\n                    });\n                }, fadeDurationInMs));\n            }\n        }\n    }, {\n        key: 'getImageCoordinates',\n        value: function getImageCoordinates() {\n            var _props2 = this.props,\n                cursorOffset = _props2.cursorOffset,\n                largeImage = _props2.largeImage,\n                containerDimensions = _props2.containerDimensions,\n                position = _props2.position,\n                smallImage = _props2.smallImage,\n                isInPlaceMode = _props2.isInPlaceMode;\n\n\n            if (isInPlaceMode) {\n                return getInPlaceEnlargedImageCoordinates({\n                    containerDimensions: containerDimensions,\n                    largeImage: largeImage,\n                    position: position\n                });\n            }\n\n            return getLensModeEnlargedImageCoordinates({\n                containerDimensions: containerDimensions,\n                cursorOffset: cursorOffset,\n                largeImage: largeImage,\n                position: position,\n                smallImage: smallImage\n            });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _props3 = this.props,\n                containerClassName = _props3.containerClassName,\n                imageClassName = _props3.imageClassName,\n                isLazyLoaded = _props3.isLazyLoaded,\n                largeImage = _props3.largeImage,\n                _props3$largeImage = _props3.largeImage,\n                _props3$largeImage$al = _props3$largeImage.alt,\n                alt = _props3$largeImage$al === undefined ? '' : _props3$largeImage$al,\n                _props3$largeImage$on = _props3$largeImage.onLoad,\n                onLoad = _props3$largeImage$on === undefined ? noop : _props3$largeImage$on,\n                _props3$largeImage$on2 = _props3$largeImage.onError,\n                onError = _props3$largeImage$on2 === undefined ? noop : _props3$largeImage$on2;\n\n\n            var component = React.createElement(\n                'div',\n                {\n                    className: containerClassName,\n                    style: this.containerStyle\n                },\n                React.createElement('img', {\n                    alt: alt,\n                    className: imageClassName,\n                    src: largeImage.src,\n                    srcSet: largeImage.srcSet,\n                    sizes: largeImage.sizes,\n                    style: this.imageStyle,\n                    onLoad: onLoad,\n                    onError: onError\n                })\n            );\n\n            if (isLazyLoaded) {\n                return this.isVisible ? component : null;\n            }\n\n            return component;\n        }\n    }, {\n        key: 'isVisible',\n        get: function get() {\n            var _state = this.state,\n                isTransitionEntering = _state.isTransitionEntering,\n                isTransitionActive = _state.isTransitionActive,\n                isTransitionLeaving = _state.isTransitionLeaving;\n\n\n            return isTransitionEntering || isTransitionActive || isTransitionLeaving;\n        }\n    }, {\n        key: 'containerStyle',\n        get: function get() {\n            var _props4 = this.props,\n                containerStyle = _props4.containerStyle,\n                containerDimensions = _props4.containerDimensions,\n                fadeDurationInMs = _props4.fadeDurationInMs,\n                isPortalRendered = _props4.isPortalRendered,\n                isInPlaceMode = _props4.isInPlaceMode;\n            var isTransitionActive = this.state.isTransitionActive;\n\n\n            return getEnlargedImageContainerStyle({\n                containerDimensions: containerDimensions,\n                containerStyle: containerStyle,\n                fadeDurationInMs: fadeDurationInMs,\n                isTransitionActive: isTransitionActive,\n                isInPlaceMode: isInPlaceMode,\n                isPortalRendered: isPortalRendered\n            });\n        }\n    }, {\n        key: 'imageStyle',\n        get: function get() {\n            var _props5 = this.props,\n                imageStyle = _props5.imageStyle,\n                largeImage = _props5.largeImage;\n\n\n            return getEnlargedImageStyle({\n                imageCoordinates: this.getImageCoordinates(),\n                imageStyle: imageStyle,\n                largeImage: largeImage\n            });\n        }\n    }]);\n\n    return _class;\n}(React.Component);\n\n_class.displayName = 'EnlargedImage';\n_class.defaultProps = {\n    fadeDurationInMs: 0,\n    isLazyLoaded: true\n};\n_class.propTypes = {\n    containerClassName: PropTypes.string,\n    containerStyle: PropTypes.object,\n    cursorOffset: Point,\n    position: Point,\n    fadeDurationInMs: PropTypes.number,\n    imageClassName: PropTypes.string,\n    imageStyle: PropTypes.object,\n    isActive: PropTypes.bool,\n    isLazyLoaded: PropTypes.bool,\n    largeImage: LargeImageShape,\n    containerDimensions: ContainerDimensions,\n    isPortalRendered: PropTypes.bool,\n    isInPlaceMode: PropTypes.bool\n};\nexport default _class;"]},"metadata":{},"sourceType":"module"}